<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Formulaire_bootstrap</title>
    <link rel="stylesheet" href="../../bootstrap/css/bootstrap.css" >
     <style>
    *{
       margin: 0;
       padding: 0;
     }
     .container {
       margin-top: 10px;
     }
    form{
       width: 220px;
       height: 240px;
       border-radius: 5px;
       border: 1px solid grey;
     }
     .form-group{
       padding-left: 10px;
     }
     button{
       margin-left: 10px;
     }
    #submit{
      text-align: center;
    }
    input{
      margin-bottom: 5px;
    }
    legend{
      background-color: #E9E9E9;
      font-size: 14px;
      width: 100%;
      height: 50px;
      line-height: 50px;
      padding-left: 10px;
    }
    .btn-warning{
      display: inline-block;
    }
    ul{
      margin-top: 40px;
      display: inline-block;
    }
     </style>
  </head>
  <body>
    <div class='container col-md-3'>
    <form class='form-inline'>
      <legend>Ajouter un utilisateur</legend>
      <div class="form-group">
      <label for='exampleInputName2'>Nom</label><input type="text" class="form-control" id="exampleInputName2"/>
    </div>
    <div class="form-group">
      <label for='exampleInputName1'>Prenom</label><input type="text" class="form-control" id="exampleInputName1"/>
    </div>
      <button type='button' onclick='recup()' class='btn btn-primary'>Submit</button>
    </form>
  </div>
  <ul id='maListe'/>
  <script>
  var liste = document.getElementById('maListe');
   var li;
    var nouvellediv;
    var compteur = 0;
    var tabContact = [];

    function suppr(a, b){
      var idLi = document.getElementById("li"+a);
      // console.log("li"+a);
      idLi.parentNode.removeChild(idLi);
      b.parentNode.removeChild(b);
      // console.log(liste);
      tabContact.splice(a,1);
      // console.log("a : " + a );
      // console.log(tabContact);
    }
    function recup(){
      var prenom = document.getElementById('exampleInputName1');
      var nom = document.getElementById("exampleInputName2");
      var monObjet = {};
      li = document.createElement('li');
      liste.appendChild(li);
      li.id = "li"+compteur;
      //  console.log("compteur : "+compteur + "id li : "+ li.id);
      nouvellediv = document.createElement('div');
      nouvellediv.innerHTML="<button type='button' class='btn btn-warning' onclick='suppr("+compteur+", this)'>X</button>";
      nouvellediv.style.display = 'inline-block';
      compteur ++;
      monObjet.nom = nom.value;
      monObjet.prenom = prenom.value;
      tabContact.push(monObjet);
      // console.log(tabContact);
      li.appendChild(document.createTextNode( monObjet.nom + ' ' + monObjet.prenom));
      li.appendChild(nouvellediv);

      nom.value = " ";
      prenom.value = " ";
    }
  </script>
  </body>
</html>
